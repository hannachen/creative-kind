"use strict";!function(e,t){t.mobileMq="screen and (min-width: 48em)";var n={init:function(){this.initVariables(),this.initEvents(),this.initPage()},initVariables:function(){this.$drawerNav=e("#account-drawer, #submenu-drawer")},initEvents:function(){this.$drawerNav.on("show.bs.drawer",this.onDrawerOpen),this.$drawerNav.on("hidden.bs.drawer",this.onDrawerClose)},initPage:function(){var t=document.location.toString();t.match("#")&&e('.nav-pills a[href="#'+t.split("#")[1]+'"]').tab("show")},onDrawerOpen:function(t){var n=e("body"),i=e(t.target),a=n.find(".overlay");a.length||(a=e('<div class="overlay"></div>'),a.on("click",function(){i.find(".drawer-toggle").trigger("click")}),a.appendTo(n))},onDrawerClose:function(){e(".overlay").remove()}};e(function(){n.init()})}(jQuery,window);var Quilt=function(e,t){function n(e,t){this.$patchPreview=$("#patch-preview"),this.myPatch="",this.patches=[],this.clickedPatch,this.patchStatus,this.setupQuilt(e,t)}return console.log("NEW"),n.prototype.disable=function(){var e=this;_.forEach(this.patches,function(t){t.off(e.getPatchEvents())})},n.prototype.setupQuilt=function(e,t){var n=this;e.hasChildren()&&!function(){var i=e.children,a=0;console.log("LENGTH",i.length),_.forEach(i,function(e,i){if(void 0===e||void 0===e.hasChildren()||!t[i-a])return a++,void console.log("SKIP",e);var o=void 0,r=void 0,c=void 0;switch(e.hasChildren()&&_.forEach(e.children,function(e){var t=n.getItemType(e);switch(t){case"rectangle":o=e;break;case"path":r=e;break;case"circle":c=e}}),r.locked=!0,r.visible=!1,c.locked=!0,c.visible=!1,o.strokeScaling=!1,o.fillColor="#ffffff",o.data.uid=t[i-a].uid,o.data.status=t[i-a].status,"mine"===o.status&&(n.myPatch=t[i-a].uid),o.on(n.getPatchEvents()),o.data.status){case"progress":o.off(n.getPatchEvents()),o.fillColor="#cccccc";break;case"mine":o.fillColor="#aab0ff";break;case"complete":project.importSVG("/patch/svg/"+o.data.uid,function(t){t.rotate(-45),t.fitBounds(o.bounds),t.data=o.data,e.addChild(t),o.off(n.getPatchEvents()),t.on(n.getPatchEvents()),o.visible=!1});break;case"new":default:n.myPatch.length?o.off(n.getPatchEvents()):r.visible=!0}n.patches.push(o)})}()},n.prototype.getItemType=function(e){var t="";switch(e.className){case"Shape":t=e.type;break;case"Path":t=e.className.toLowerCase()}return t},n.prototype.getPatchEvents=function(){var e=this,t={};return t.click=function(t){var n=t.target.data;e.clickedPatch=n,"complete"===n.status?e.showPatch(n.uid):$(document).trigger({type:"click-patch",patch:n})},Modernizr.touch||(t.mouseenter=e.enterArea,t.mouseleave=e.leaveArea),t},n.prototype.showPatch=function(e){var t=this;console.log(e),this.$patchPreview.css("display","block");var n=$('<img src="/patch/svg/'+e+'">');n.on("click",function(){n.off("click"),t.$patchPreview.css("display","none"),t.$patchPreview.empty()}),this.$patchPreview.append(n)},n.prototype.enterArea=function(e){e.target.opacity=.8},n.prototype.leaveArea=function(e){e.target.opacity=1},n}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},utils=function(e,t){return{serializeArray:function(e){var t,n,i=[];if("object"==("undefined"==typeof e?"undefined":_typeof(e))&&"FORM"==e.nodeName)for(var a=e.elements.length,o=0;a>o;o++)if(t=e.elements[o],t.name&&!t.disabled&&"file"!=t.type&&"reset"!=t.type&&"submit"!=t.type&&"button"!=t.type)if("select-multiple"==t.type)for(n=e.elements[o].options.length,j=0;j<n;j++)t.options[j].selected&&(i[i.length]={name:t.name,value:t.options[j].value});else if("checkbox"!=t.type&&"radio"!=t.type||t.checked){var r={};r[t.name]=t.value,i[i.length]=r}return i},seralizeObject:function(e){var t,n,i={};if("object"==("undefined"==typeof e?"undefined":_typeof(e))&&"FORM"==e.nodeName)for(var a=e.elements.length,o=0;a>o;o++)if(t=e.elements[o],t.name&&!t.disabled&&"file"!=t.type&&"reset"!=t.type&&"submit"!=t.type&&"button"!=t.type)if("select-multiple"==t.type){n=e.elements[o].options.length;var r=[];for(j=0;j<n;j++){if(t.options[j].selected)var c={name:t.name,value:t.options[j].value};r.push(c)}i[t.name]=r}else("checkbox"!=t.type&&"radio"!=t.type||t.checked)&&(i[t.name]=t.value);return i},breakpoint:function(e){return t.matchMedia(e).matches?"desktop":"mobile"},debounce:function(e,t,n){var i;return function(){var a=this,o=arguments,r=function(){i=null,n||e.apply(a,o)},c=n&&!i;clearTimeout(i),i=setTimeout(r,t),c&&e.apply(a,o)}}}}(jQuery,window);
//# sourceMappingURL=maps/main.min.js.map
