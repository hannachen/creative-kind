"use strict";!function(t,n){var i={init:function(){this.initVariables(),this.initEvents(),this.initPage()},initVariables:function(){this.$document=t(document)},initEvents:function(){},initPage:function(){var n=document.location.toString();n.match("#")&&t('.nav-pills a[href="#'+n.split("#")[1]+'"]').tab("show")}};t(function(){i.init()})}(jQuery,window);var app=function(t){function n(){paper.setup("coloring-area"),project.importSVG("/img/grid-1.svg",function(t){p=t,u(t),t.hasChildren()&&t.children.gridareas&&(y=t.children.gridareas.children,_.forEach(y,function(t){void 0!==t&&(t.strokeScaling=!1,Modernizr.touch||(t.onMouseEnter=a,t.onMouseLeave=r),t.onClick=o,t.selectedColor=F?"#00ecde":"#009dec")})),t.hasChildren()&&t.children.lines&&(h=t.children.lines)}),view.draw(),s(),i(),e()}function i(){var n=t(".toolbar");n.find(".select-multiple");n.find('[data-tool="clear"]').on("touchstart click",function(){c()}),v=t(".color-palette .color-button"),v.on("touchstart click",function(t){b.length&&(_.forEach(b,function(n){n.fillColor=t.currentTarget.getAttribute("data-color")}),view.draw())}),w=t(".line-toggle"),w.on("click",function(){h&&(h.visible=h.visible?!1:!0,view.draw())})}function e(){console.log("starting form action listeners....");var n=t("#formActions"),i=n.find('input[name="saveAction"]');n.on("submit",function(t){t.preventDefault()}),i.on("click",function(t){console.log(t)})}function o(t){var n=!0;F?_.includes(b,t.target)&&(n=!1,t.target.selected=!1,_.remove(b,t.target)):c(),n&&l(t.target)}function a(t){t.target.opacity=.8}function r(t){t.target.opacity=1}function c(){_.forEach(b,function(t){t.selected=!1}),view.draw(),b=[]}function l(t){b.push(t),t.selected=!0}function u(t){var n=t.bounds.x+t.bounds.width,i=t.bounds.y+t.bounds.height,e=f()/n,o=f()/2,a=i*e/2;t.scale(e),t.position=[o,a],view.draw()}function s(){d(),window.onresize=function(t){d(),u(p)}}function d(){var t=f(),n=g(),i=new Size(t,n);view.viewSize=i}function f(){var t=getComputedStyle(m),n=m.clientWidth;return n-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n-=parseFloat(t.marginLeft)+parseFloat(t.marginRight)}function g(){var t=getComputedStyle(m),n=m.clientHeight;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),n-=parseFloat(t.marginTop)+parseFloat(t.marginBottom)}var p,h,v,w,m=document.getElementById("canvas-container"),b=[],y=[],F=!0;return{init:function(){n()},deinit:function(){}}}(jQuery);paper.install(window),function(t,n){app.init()}(jQuery,window);