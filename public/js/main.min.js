"use strict";!function(t,n){var i={init:function(){this.initVariables(),this.initEvents(),this.initPage()},initVariables:function(){this.$document=t(document)},initEvents:function(){},initPage:function(){var n=document.location.toString();n.match("#")&&t('.nav-pills a[href="#'+n.split("#")[1]+'"]').tab("show")}};t(function(){i.init()})}(jQuery,window);var app=function(t){function n(){paper.setup("coloring-area"),project.importSVG("/img/grid-1.svg",function(t){g=t,l(t),t.hasChildren()&&t.children.gridareas&&(b=t.children.gridareas.children,_.forEach(b,function(t){void 0!==t&&(t.strokeScaling=!1,Modernizr.touch||(t.onMouseEnter=o,t.onMouseLeave=a),t.onClick=e,t.selectedColor=y?"#00ecde":"#009dec")})),t.hasChildren()&&t.children.lines&&(p=t.children.lines)}),view.draw(),u(),i()}function i(){var n=t(".toolbar");n.find(".select-multiple");n.find('[data-tool="clear"]').on("touchstart click",function(){r()}),h=t(".color-palette .color-button"),h.on("touchstart click",function(t){m.length&&(_.forEach(m,function(n){n.fillColor=t.currentTarget.getAttribute("data-color")}),view.draw())}),v=t(".line-toggle"),v.on("click",function(){p&&(p.visible=p.visible?!1:!0,view.draw())})}function e(t){var n=!0;y?_.includes(m,t.target)&&(n=!1,t.target.selected=!1,_.remove(m,t.target)):r(),n&&c(t.target)}function o(t){t.target.opacity=.8}function a(t){t.target.opacity=1}function r(){_.forEach(m,function(t){t.selected=!1}),view.draw(),m=[]}function c(t){m.push(t),t.selected=!0}function l(t){var n=t.bounds.x+t.bounds.width,i=t.bounds.y+t.bounds.height,e=s()/n,o=s()/2,a=i*e/2;t.scale(e),t.position=[o,a],view.draw()}function u(){d(),window.onresize=function(t){d(),l(g)}}function d(){var t=s(),n=f(),i=new Size(t,n);view.viewSize=i}function s(){var t=getComputedStyle(w),n=w.clientWidth;return n-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n-=parseFloat(t.marginLeft)+parseFloat(t.marginRight)}function f(){var t=getComputedStyle(w),n=w.clientHeight;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),n-=parseFloat(t.marginTop)+parseFloat(t.marginBottom)}var g,p,h,v,w=document.getElementById("canvas-container"),m=[],b=[],y=!0;return{init:function(){n()},deinit:function(){}}}(jQuery);paper.install(window),function(t,n){app.init()}(jQuery,window);